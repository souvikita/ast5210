



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://tiagopereira.space/ast5210/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>AST5210 RH exercises</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#introduction-and-setup" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://tiagopereira.space/ast5210" title="AST5210 RH exercises" aria-label="AST5210 RH exercises" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              AST5210 RH exercises
            </span>
            <span class="md-header-nav__topic">
              
                Introduction
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/tiagopereira/ast5210" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    tiagopereira/ast5210
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://tiagopereira.space/ast5210" title="AST5210 RH exercises" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    AST5210 RH exercises
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/tiagopereira/ast5210" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    tiagopereira/ast5210
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Introduction
      </label>
    
    <a href="." title="Introduction" class="md-nav__link md-nav__link--active">
      Introduction
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-in-linux-machines-at-institute" class="md-nav__link">
    Installing in Linux machines at Institute
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-in-your-personal-computer" class="md-nav__link">
    Installing in your personal computer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-jupyter-and-helita-for-analysis-of-output" class="md-nav__link">
    Installing Jupyter and helita for analysis of output
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-jupyter-lab-remotely-from-the-linux-machines" class="md-nav__link">
    Running Jupyter lab remotely from the Linux machines
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-jupyter-for-these-exercises" class="md-nav__link">
    Using Jupyter for these exercises
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="running/" title="Running RH 1.5D" class="md-nav__link">
      Running RH 1.5D
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="LTE_NLTE/" title="LTE and non-LTE" class="md-nav__link">
      LTE and non-LTE
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="CaII_formation/" title="Formation of Ca II lines" class="md-nav__link">
      Formation of Ca II lines
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="MgII_formation/" title="Formation of Mg II lines" class="md-nav__link">
      Formation of Mg II lines
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-in-linux-machines-at-institute" class="md-nav__link">
    Installing in Linux machines at Institute
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-in-your-personal-computer" class="md-nav__link">
    Installing in your personal computer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-jupyter-and-helita-for-analysis-of-output" class="md-nav__link">
    Installing Jupyter and helita for analysis of output
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-jupyter-lab-remotely-from-the-linux-machines" class="md-nav__link">
    Running Jupyter lab remotely from the Linux machines
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-jupyter-for-these-exercises" class="md-nav__link">
    Using Jupyter for these exercises
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="introduction-and-setup">Introduction and setup<a class="headerlink" href="#introduction-and-setup" title="Permanent link">&para;</a></h1>
<p>This document is a guide to using the RH code during AST5210. We will be using the <a href="https://github.com/ITA-Solar/rh">RH 1.5D</a> version of the code, which also has <a href="https://rh15d.readthedocs.io">online documentation</a>. You are expected to run the code yourself, either on your personal computer or using the Institute's Linux machines. The documentation describes how to <a href="https://rh15d.readthedocs.io/en/latest/installation.html">download, compile and install</a> the code, but here are some quick instructions. </p>
<p>RH 1.5D needs two external libraries: HDF5 (for the input/output) and MPI (for parallel processing). If you are using the Institute's Linux machines, they are already installed. If using your laptop, they are probably not installed. See instructions below for compiling in both cases.</p>
<h2 id="installing-in-linux-machines-at-institute">Installing in Linux machines at Institute<a class="headerlink" href="#installing-in-linux-machines-at-institute" title="Permanent link">&para;</a></h2>
<ol>
<li>SSH into a local machine (e.g. beehive) and load the intel compilers and hdf5 module</li>
<li>Clone the RH repository</li>
<li>Edit <code class="codehilite"><span class="err">Makefile.config</span></code>, change <code class="codehilite"><span class="err">CC</span></code> to <code class="codehilite"><span class="err">mpiicc</span></code>, <code class="codehilite"><span class="err">F90C</span></code> to <code class="codehilite"><span class="err">ifort</span></code>, <code class="codehilite"><span class="err">LD</span></code> to <code class="codehilite"><span class="err">mpiicc</span></code>, and <code class="codehilite"><span class="err">HDF5_DIR</span></code> to <code class="codehilite"><span class="err">/astro/local/hdf5/1.10.1/intel</span></code></li>
<li>Compile</li>
</ol>
<p>Here's a summary of the commands to do the above:</p>
<div class="codehilite"><pre><span></span><code>$ ssh beehive
beehive$ module load Intel_parallel_studio/2018 hdf5/Intel/1.10.1
beehive$ git clone https://github.com/ita-solar/rh.git
beehive$ <span class="nb">cd</span> rh
beehive$ nano Makefile.config
beehive$ make -j8
beehive$ <span class="nb">cd</span> rh15d
beehive$ make -j8
</code></pre></div>

<h2 id="installing-in-your-personal-computer">Installing in your personal computer<a class="headerlink" href="#installing-in-your-personal-computer" title="Permanent link">&para;</a></h2>
<p><em>This procedure may not work in Windows; it was only tested for Linux and MacOS</em>. </p>
<p>RH needs C and Fortran compilers with the OpenMPI and HDF5 (parallel build) libraries. Manual installation is possible, but not recommended for those not experienced in building Unix packages. The easiest way to install all the necessary compilers and libraries is through the <a href="https://conda.io/miniconda.html">miniconda</a> or <a href="https://www.anaconda.com/download/">Anaconda</a> Python distributions. If you don't have conda installed, download and install it first (<strong>get the latest python 3.x versions</strong>). </p>
<p>The first step is making sure you have C and Fortran compilers installed. Most Linux machines already have this installed (<code class="codehilite"><span class="err">gcc</span></code> and <code class="codehilite"><span class="err">gfortran</span></code>); if not you can install them via conda:</p>
<div class="codehilite"><pre><span></span><code>$ conda install -c conda-forge gfortran_linux-64 gcc
</code></pre></div>

<p>If you are on a Mac, you can also install the compilers with conda:</p>
<div class="codehilite"><pre><span></span><code>$ conda install -c conda-forge gfortran_osx-64 clang_osx-64
</code></pre></div>

<p>Once you have the compilers working, you need to the following:</p>
<ol>
<li>Install MPI and hdf5 from Anaconda</li>
<li>Clone the RH repository</li>
<li>Edit <code class="codehilite"><span class="err">Makefile.config</span></code>, change <code class="codehilite"><span class="err">CC</span></code> to <code class="codehilite"><span class="err">mpicc</span></code>, <code class="codehilite"><span class="err">F90C</span></code> to <code class="codehilite"><span class="err">gfortran</span></code> (or other, if you are using another Fortran compiler), <code class="codehilite"><span class="err">LD</span></code> to <code class="codehilite"><span class="err">mpicc</span></code>, and <code class="codehilite"><span class="err">HDF5_DIR</span></code> to <code class="codehilite"><span class="err">$HOME/anaconda/</span></code> (edit if you have miniconda or Anaconda in a different location)</li>
<li>Compile! (Make sure mpicc is the conda version)</li>
</ol>
<p>Here's a summary of the commands to do the above:</p>
<div class="codehilite"><pre><span></span><code>$ conda install -c conda-forge openmpi <span class="nv">hdf5</span><span class="o">=</span><span class="m">1</span>.10.4<span class="o">=</span>mpi_openmpi_hd93f08e_1005
$ git clone https://github.com/ita-solar/rh.git
$ <span class="nb">cd</span> rh
$ nano Makefile.config
$ make -j8
$ <span class="nb">cd</span> rh15d
$ make -j8
</code></pre></div>

<p>If you don't have git, you can <a href="https://github.com/ITA-Solar/rh/archive/master.zip">download a zip file</a> with RH instead.</p>
<h2 id="installing-jupyter-and-helita-for-analysis-of-output">Installing Jupyter and <code class="codehilite"><span class="err">helita</span></code> for analysis of output<a class="headerlink" href="#installing-jupyter-and-helita-for-analysis-of-output" title="Permanent link">&para;</a></h2>
<p>The <a href="https://jupyter.org/">Jupyter notebook</a> (and associated packages) will be necessary to follow the exercise notebooks and visualise the output of RH 1.5D. If you are using the Linux machines, Jupyter and all necessary packages are already installed. If you don't have it installed in your personal computer, you can again use Anaconda:</p>
<div class="codehilite"><pre><span></span><code>$ conda install -c conda-forge jupyterlab ipywidgets ipympl widgetsnbextension xarray nodejs
</code></pre></div>

<p>You will also need <a href="https://github.com/ITA-Solar/helita/">helita</a>, a Python package that contains modules to load and visualise the output of RH 1.5D. To install it, you do:</p>
<div class="codehilite"><pre><span></span><code>$ git clone https://github.com/ITA-solar/helita.git
$ <span class="nb">cd</span> helita
$ python setup.py install --user
</code></pre></div>

<p>There is also a <a href="https://github.com/ITA-Solar/rh/archive/master.zip">zip file</a> if you don't have git. If installing in your personal computer, you need C and Fortran compilers (see above).</p>
<p>For both the Institute machines and your own computer, you will need to activate the Jupyter widgets with:</p>
<div class="codehilite"><pre><span></span><code>$ jupyter labextension install @jupyter-widgets/jupyterlab-manager jupyter-matplotlib
</code></pre></div>

<p>After that, you are ready to start jupyter lab:</p>
<div class="codehilite"><pre><span></span><code>$ jupyter lab
</code></pre></div>

<p>To test your installation and try out the RH 1.5D widgets, you can run the sample notebooks inside the <code class="codehilite"><span class="err">rh/doc/notebooks</span></code> directory. In the terminal, got to that directory and enter <code class="codehilite"><span class="err">jupyter lab</span></code>. </p>
<p>You can also test the widget output of Jupyter by running the <code class="codehilite"><span class="err">slab</span></code> and <code class="codehilite"><span class="err">transp</span></code> radiative transfer visualisation widgets. These do not require any files from RH, and are based on the IDL <code class="codehilite"><span class="err">xslab.pro</span></code> and <code class="codehilite"><span class="err">xtransp.pro</span></code> routines. You can start them in Jupyter in the following way:</p>
<div class="codehilite"><pre><span></span><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="kn">from</span> <span class="nn">helita.sim</span> <span class="kn">import</span> <span class="n">rh15d_vis</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">rh15d_vis</span><span class="o">.</span><span class="n">slab</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">rh15d_vis</span><span class="o">.</span><span class="n">transp</span><span class="p">()</span>
</code></pre></div>

<h3 id="running-jupyter-lab-remotely-from-the-linux-machines">Running Jupyter lab remotely from the Linux machines<a class="headerlink" href="#running-jupyter-lab-remotely-from-the-linux-machines" title="Permanent link">&para;</a></h3>
<p><em>This step is optional.</em></p>
<p>It is possible to not only run Jupyter in your own machine, but also having it running on a remote computer at set to display the notebook in your own web browser. This way you can combine the best of both worlds: use a powerful computer with large memory and disk space, but keep a responsive graphical interface in your own computer. (You don't even need to install jupyter or all the programs in your computer.)</p>
<p>To to this using the Institute computers, you need to set up an ssh tunnel and configure your browser to connect to that address. Here's an example using the <code class="codehilite"><span class="err">beehive</span></code> machine:</p>
<div class="codehilite"><pre><span></span><code>$ ssh beehive
beehive$ module load python
beehive$ jupyter lab --no-browser
<span class="o">(</span>...<span class="o">)</span>
    http://localhost:8888/?token<span class="o">=</span>5089680adec1040
</code></pre></div>

<p>You see above that when you start jupyter, you'll get a lot of output but most importantly a URL. <strong>Save that URL.</strong> It is unique for this session and you'll need it later. The above gets jupyter started, then you need to connect to it. For that, we will use an SSH tunnel. First, we need to be able to connect to <code class="codehilite"><span class="err">beehive</span></code> directly, so you need to change the <code class="codehilite"><span class="err">~/.ssh/config</span></code> file in your own computer. Add the following to the file (if it doesn't exist, create it):</p>
<div class="codehilite"><pre><span></span><code><span class="err">Host beehive*</span>
<span class="err">    ForwardX11 yes</span>
<span class="err">    User username</span>
<span class="err">    ProxyCommand ssh -XY username@login.astro.uio.no -W %h:%p</span>
</code></pre></div>

<p>And replace <code class="codehilite"><span class="err">username</span></code> by your own username (two locations). Then you run the following command in your computer to start the SSH tunnel:</p>
<div class="codehilite"><pre><span></span><code>$ ssh -NL <span class="m">9999</span>:localhost:8888 beehive
</code></pre></div>

<p>This will map port 8888 on beehive to port 9999 on your computer. You then use the URL you got from jupyter, change 8888 into 9999, and enter it in your browser. Then you should see jupyter running on <code class="codehilite"><span class="err">beehive</span></code>.</p>
<h2 id="using-jupyter-for-these-exercises">Using Jupyter for these exercises<a class="headerlink" href="#using-jupyter-for-these-exercises" title="Permanent link">&para;</a></h2>
<p>We will be using the Jupyter notebook to run Python code to work with RH. If you haven't used it, there are <a href="https://www.datacamp.com/community/tutorials/tutorial-jupyter-notebook">several</a> <a href="https://medium.com/codingthesmartway-com-blog/getting-started-with-jupyter-notebook-for-python-4e7082bd5d46">tutorials</a> you can read to familiarise yourself with it.</p>
<p>RH has a few Jupyter notebooks that illustrate some visualisation routines. You can try them out interactively with your own runs of RH, but for most of the work here is is recommended that you start your own notebooks and type code as you go.</p>
<p>In the first cell of <em>all your notebooks</em> it is recommended to keep all the necessary imports and other boilerplate code that you don't want to type often. The following cell should cover all your basic imports for these exercises:</p>
<div class="codehilite"><pre><span></span><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">helita.sim</span> <span class="kn">import</span> <span class="n">rh15d</span><span class="p">,</span> <span class="n">rh15d_vis</span>
</code></pre></div>

<p>In all the examples from now on, it is expected you have already ran the code above in your notebooks. This code uses the <code class="codehilite"><span class="err">ipympl</span></code> backend for <code class="codehilite"><span class="err">matplotlib</span></code>, which allows interactive figures inside notebooks but has some drawbacks. If you redo plots without clearing old figures or creating new figures, you may run into problems with disappearing plots  or plots updating in a new cell. The recommended approach for creating plots in a new cell is the following:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># or ax.imshow(...), or any other matplotib command</span>
</code></pre></div>

<p>In the above you need to replace <code class="codehilite"><span class="err">&quot;...&quot;</span></code> with your plot command. In subsequent cells, you should name figures and axes differently, e.g.:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fig1</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</code></pre></div>

<p>Otherwise, you will be updating the plots in the previous cell. If you get stuck with a disappearing figure, or have too many open figures (<code class="codehilite"><span class="err">matplotlib</span></code> will complain if you have more than 20), you can always close all of them:</p>
<div class="codehilite"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
</code></pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="running/" title="Running RH 1.5D" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Running RH 1.5D
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="assets/fonts/font-awesome.css">
    
      <a href="https://github.com/tiagopereira" target="_blank" rel="noopener" title="github-alt" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://tiagopereira.space/" target="_blank" rel="noopener" title="globe" class="md-footer-social__link fa fa-globe"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>